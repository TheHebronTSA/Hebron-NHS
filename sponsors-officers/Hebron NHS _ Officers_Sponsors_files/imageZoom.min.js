define("imageZoom",["lodash","utils","core","santaProps","coreUtils","prop-types","santa-components","skins","zepto","reactDOM","imageClientLib"],function(t,e,i,o,n,s,a,r,p,d,l){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1409)}({0:function(e,i){e.exports=t},1:function(t,i){t.exports=e},11:function(t,e){t.exports=p},12:function(t,e){t.exports=d},1409:function(t,e,i){var o,n;o=[i(1410),i(474),i(473),i(1412),i(1413),i(1414),i(7),i(1415)],void 0===(n=function(t,e,i,o,n,s,a,r){"use strict";return a.skinsMap.addBatch(r),{imageZoom:t,imageZoomDisplayer:e,mediaZoom:i,mobileMediaZoom:o,touchMediaZoom:n,touchMediaZoomItem:s}}.apply(e,o))||(t.exports=n)},1410:function(t,e,i){var o,n;o=[i(5),i(0),i(2),i(3),i(473),i(1),i(475)],void 0===(n=function(t,e,i,o,n,s,a){"use strict";return{displayName:"ImageZoom",mixins:[i.compMixins.mediaZoomWrapperMixin],propTypes:e.assign({id:o.Types.Component.id,compData:o.Types.Component.compData.isRequired,rootNavigationInfo:o.Types.Component.rootNavigationInfo.isRequired,reportBI:o.Types.reportBI.isRequired,siteId:o.Types.RendererModel.siteId.isRequired,siteWidth:o.Types.siteWidth,navigateToPage:o.Types.navigateToPage.isRequired,getScreenHeight:o.Types.getScreenHeight.isRequired,getScreenWidth:o.Types.getScreenWidth.isRequired,getWindowInnerHeight:o.Types.__DangerousSantaTypes.getWindowInnerHeight.isRequired,getCustomMeasureMap:o.Types.__DangerousSantaTypes.getCustomMeasureMap.isRequired,isMobileDevice:o.Types.Device.isMobileDevice,isTabletDevice:o.Types.Device.isTabletDevice,pageItemAdditionalData:t.object,galleryCompId:t.string,zoom:o.Types.NonPageItemZoom.zoom,unzoom:o.Types.NonPageItemZoom.unzoom,currentZoomItem:o.Types.NonPageItemZoom.currentItem},o.santaTypesUtils.getSantaTypesByDefinition(n)),isNonOptimizedView:function(){return this.props.isMobileDevice||this.props.isTabletDevice},fireEnterExpandModeEvent:function(){this.props.reportBI(a.ENTER_EXPAND_MODE,{site_id:this.props.siteId})},componentWillMount:function(){this.fireEnterExpandModeEvent()},getInitialState:function(){return this.isNonOptimizedView()&&(this.enableInnerScrolling=!0),{}},getPrevAndNextState:function(){var t=void 0,i=void 0,o=this.props.pageItemAdditionalData,n={next:null,prev:null};return o&&(t=e.map(o.items,"id")).length>1&&(i=t.indexOf(this.props.compData.id),n.next=t[(i+1)%t.length],n.prev=t[(i-1+t.length)%t.length]),n},isDataChanged:function(t,e){return t.compData!==e.compData},getChildComp:function(t,i){var o={isMobileDevice:this.props.isMobileDevice,isTabletDevice:this.props.isTabletDevice,siteWidth:this.props.siteWidth},n={width:this.props.getScreenWidth(),height:this.props.getScreenHeight(),innerHeight:this.props.getWindowInnerHeight()},a=e.every(n),r={zoomDimensions:(this.isNonOptimizedView()?s.mediaZoomCalculations.getNonOptimizedViewDimensions:s.mediaZoomCalculations.getDesktopViewDimensions)(this.props.compData,o,a?n:null,i),quality:{quality:90}};return e.assign(r,t),this.createChildComponent(this.props.compData,"wysiwyg.components.ImageZoomDisplayer","imageItem",r)},getBoxDimensions:function(){return this.props.getCustomMeasureMap(this.props.id+this.props.compData.id)},actualNavigateToItem:function(t){if(this.props.currentZoomItem)if(t){var i=e.find(this.props.currentZoomItem.galleryData.items,{id:t});this.props.zoom(i,this.props.currentZoomItem.galleryData)}else this.props.unzoom();else{var o=e.clone(this.props.rootNavigationInfo);o.pageItemId=t,this.props.navigateToPage(o)}},getChildZoomComponentType:function(){return"wysiwyg.viewer.components.MediaZoom"},getImageIndex:function(){var t=e.get(this.props.pageItemAdditionalData,"items");if(t)return e.findIndex(t,{id:this.props.compData.id})},getChildZoomExtraProps:function(){return e.assign({},e.pickBy({galleryCompId:this.props.galleryCompId}),{imageIndex:this.getImageIndex()})}}}.apply(e,o))||(t.exports=n)},1411:function(t,e,i){var o;void 0===(o=function(){"use strict";return{buttonClose:{svg:{viewBox:"0 0 180 180",className:"svgButtonClose"},content:'<path d="M5 5 L175 175 M175 5 L5 175"/>'},buttonPrevious:{svg:{viewBox:"0 0 180 310",className:"svgNavButton"},content:'<path d="M170 10 L10 161 M10 150 L170 300"/>'},buttonNext:{svg:{viewBox:"0 0 180 310",className:"svgNavButton"},content:'<path d="M10 10 L170 161 M170 150 L10 300"/>'}}}.apply(e,[]))||(t.exports=o)},1412:function(t,e,i){var o,n;o=[i(0),i(2),i(5),i(3)],void 0===(n=function(t,e,i,o){"use strict";return{displayName:"MobileMediaZoom",mixins:[e.compMixins.skinBasedComp],propTypes:{compData:o.Types.Component.compData.isRequired,forceBackground:o.Types.forceBackground.isRequired,disableForcedBackground:o.Types.disableForcedBackground.isRequired,isMobileDevice:o.Types.Device.isMobileDevice.isRequired,isZoomAllowed:o.Types.RenderFlags.isZoomAllowed.isRequired,siteWidth:o.Types.siteWidth.isRequired,siteScrollingBlocker:o.Types.SiteAspects.siteScrollingBlocker.isRequired,navigateToPage:o.Types.navigateToPage.isRequired,enterFullScreenMode:o.Types.enterFullScreenMode.isRequired,exitFullScreenMode:o.Types.exitFullScreenMode.isRequired,isDataChangedFunc:i.func.isRequired,getPrevAndNextStateFunc:i.func.isRequired,getChildCompFunc:i.func.isRequired,enableInnerScrolling:i.bool.isRequired,actualNavigateToItemFunc:i.func.isRequired,closeFunction:i.func,rootNavigationInfo:i.object},getInitialState:function(){var e=this.props.getPrevAndNextStateFunc();return t.assign(e,{$viewerType:this.props.isMobileDevice?"mobile":"tablet",$buttonState:""}),this.props.enableInnerScrolling&&(e.$scrollState="scrollEnabled"),e},componentWillReceiveProps:function(t){this.props.isZoomAllowed?this.props.isDataChangedFunc(this.props,t)&&this.setState(this.props.getPrevAndNextStateFunc()):setTimeout(this.closeMediaZoom,0)},createOverlay:function(t){return e.componentUtils.fullScreenOverlay.createOverlay(t,{siteWidth:this.props.siteWidth,isMobileDevice:this.props.isMobileDevice,siteScrollingBlocker:this.props.siteScrollingBlocker,forceBackground:this.props.forceBackground,disableForcedBackground:this.props.disableForcedBackground})},getSkinProperties:function(){var t=this.props.getChildCompFunc({key:this.props.compData.id,hideMediaZoomButtons:this.hideButtons,showMediaZoomButtons:this.showButtons},{width:0,height:0}),e=!this.state.next,i={"":{onSwipeLeft:this.clickOnNextButton,onSwipeRight:this.clickOnPreviousButton},itemsContainer:{children:t},xButton:{onClick:this.closeMediaZoom,style:{}},buttonPrev:{onClick:this.clickOnPreviousButton,style:{}},buttonNext:{onClick:this.clickOnNextButton,style:{}}};return i=this.props.enableInnerScrolling?i:this.createOverlay(i),(e||this.props.enableInnerScrolling)&&(i.buttonNext.style.display="none",i.buttonPrev.style.display="none"),i},clickOnNextButton:function(t){this.showButtons(),this.props.actualNavigateToItemFunc(this.state.next),t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},closeMediaZoom:function(){this.props.closeFunction?this.props.closeFunction():this.props.navigateToPage({pageId:this.props.rootNavigationInfo.pageId})},clickOnPreviousButton:function(t){this.showButtons(),this.props.actualNavigateToItemFunc(this.state.prev),t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},hideButtons:function(){this.setState({$buttonState:"hideButtons"})},showButtons:function(){this.setState({$buttonState:""})},componentDidMount:function(){this.props.enterFullScreenMode({scrollable:this.props.enableInnerScrolling})},componentWillUnmount:function(){this.props.exitFullScreenMode()}}}.apply(e,o))||(t.exports=n)},1413:function(t,e,i){var o,n;o=[i(11),i(0),i(4),i(2),i(5),i(3),i(475)],void 0===(n=function(t,e,i,o,n,s,a){"use strict";var r=o.compMixins,p=i.linkRenderer,d=i.touchMediaZoomUtils,l={displayName:"TouchMediaZoom",mixins:[r.skinBasedComp,r.createChildComponentMixin],propTypes:{browser:s.Types.Browser.browser.isRequired,id:s.Types.Component.id.isRequired,compData:s.Types.Component.compData.isRequired,compProp:s.Types.Component.compProp.isRequired,rootNavigationInfo:s.Types.Component.rootNavigationInfo.isRequired,styleId:s.Types.Component.styleId.isRequired,devicePixelRatio:s.Types.Device.devicePixelRatio.isRequired,isMobileDevice:s.Types.Device.isMobileDevice.isRequired,screenSize:s.Types.screenSize.isRequired,linkRenderInfo:s.Types.Link.linkRenderInfo.isRequired,isLandscape:s.Types.mobile.isLandscape.isRequired,isZoomed:s.Types.mobile.isZoomed.isRequired,isZoomedIn:s.Types.mobile.isZoomedIn.isRequired,navigateToPage:s.Types.navigateToPage.isRequired,isZoomAllowed:s.Types.RenderFlags.isZoomAllowed.isRequired,siteId:s.Types.RendererModel.siteId.isRequired,reportBI:s.Types.reportBI.isRequired,staticMediaUrl:s.Types.ServiceTopology.staticMediaUrl.isRequired,windowKeyboardEvent:s.Types.SiteAspects.windowKeyboardEvent.isRequired,updateUrlIfNeeded:s.Types.Navigation.updateUrlIfNeeded.isRequired,currentZoomItem:s.Types.NonPageItemZoom.currentItem,unzoom:s.Types.NonPageItemZoom.unzoom,isExperimentOpen:s.Types.isExperimentOpen,pageItemAdditionalData:n.object},getSwipeOffset:function(){return this.nonReactState.swipeOffset},setSwipeOffset:function(t){this.nonReactState.swipeOffset=t;var e=this.generateTransformString(t);this.refs.swipeStage.style.transform=e,this.refs.swipeStage.style.webkitTransform=e},generateTransformString:function(t){return"translate3d("+-1*t*this.stagePercentFactor+"%, 0, 0)"},getCurrentSlideIndex:function(){return this.nonReactState.currentSlideIndex},setCurrentSlideIndex:function(t){this.nonReactState.currentSlideIndex=t},getIsZoomed:function(){return this.nonReactState.isZoomed},setIsZoomed:function(t){this.nonReactState.isZoomed=t},getStagePercentFactor:function(){return 100/this.stageData.fullWidth},getItems:function(){return e.get(this.props.pageItemAdditionalData,"items",[this.props.compData])},enterZoomMode:function(){this.isZoomed=!0,this.refs.xButton.classList.add(this.classSet({"force-hide":!0})),this.fireZoomInExpandModeEvent("pinch")},exitZoomMode:function(){this.isZoomed=!1,this.refs.xButton.classList.remove(this.classSet({"force-hide":!0}))},onTouchMove:function(t){1!==t.touches.length||this.isZoomed?1===t.touches.length||this.isZoomed||this.enterZoomMode():t.preventDefault()},onTouchEnd:function(){this.isZoomed&&(this._touchEndTimeoutHandle=window.setTimeout(function(){this.props.isZoomedIn()||this.exitZoomMode()}.bind(this),300))},fireEnterExpandModeEvent:function(){this.props.reportBI(a.ENTER_EXPAND_MODE,{site_id:this.props.siteId})},fireZoomInExpandModeEvent:function(t){this.props.reportBI(a.ZOOM_IN_EXPAND_MODE,{site_id:this.props.siteId,zoomType:t})},componentWillMount:function(){this.fireEnterExpandModeEvent(),this.props.windowKeyboardEvent.registerToArrowLeftKey(this),this.props.windowKeyboardEvent.registerToArrowRightKey(this),Object.defineProperty(this,"swipeOffset",{get:this.getSwipeOffset,set:this.setSwipeOffset}),Object.defineProperty(this,"currentSlideIndex",{get:this.getCurrentSlideIndex,set:this.setCurrentSlideIndex}),Object.defineProperty(this,"isZoomed",{get:this.getIsZoomed,set:this.setIsZoomed}),Object.defineProperty(this,"stagePercentFactor",{get:this.getStagePercentFactor}),this.stageData=d.createStageData(.2),this.resetNonReactState(),this.setState({showInfo:!0,isZoomed:!1})},componentDidMount:function(){if(this.nonReactState.firstRender=!1,this.setSwipeOffset(this.swipeOffset),this.refs.swipeStage.addEventListener("transitionend",this.onSwipeEnd),this.pageScroll=window.scrollY,this.pageMarginTop=t("html").css("marginTop"),t("html").addClass("media-zoom-mode"),t("html").css({marginTop:0}),this.props.isMobileDevice){var e=this;requirejs(["hammer"],function(t){e.setupTouchHandlers(t)}),this.refs[""].addEventListener("touchend",this.onTouchEnd),this.refs[""].addEventListener("touchcancel",this.onTouchEnd),this.refs[""].addEventListener("touchmove",this.onTouchMove)}},componentWillUnmount:function(){window.clearTimeout(this._touchEndTimeoutHandle),t("html").removeClass("media-zoom-mode"),t("html").css({marginTop:this.pageMarginTop}),window.scrollTo(0,this.pageScroll)},setupTouchHandlers:function(t){this.hammertime=new t.Manager(this.refs[""],{cssProps:{touchCallout:"default"},touchAction:"auto"}),this.hammertime.add(new t.Pan({event:"pan",direction:t.DIRECTION_HORIZONTAL})),this.hammertime.add(new t.Pan({event:"panstart",direction:t.DIRECTION_HORIZONTAL})),this.hammertime.add(new t.Pan({event:"panend",direction:t.DIRECTION_HORIZONTAL})),this.hammertime.on("panstart pan panend",this.onSwipe),this.hammertime.add(new t.Tap({event:"doubletap",taps:2,threshold:30,posThreshold:30})),this.hammertime.on("doubletap",e.partial(this.fireZoomInExpandModeEvent,"doubleTap"))},componentWillUpdate:function(){this.props.isMobileDevice&&this.setSwipeOffset(this.stageData.centerPart_begin)},componentWillReceiveProps:function(){this.props.isZoomAllowed||setTimeout(this.closeMediaZoom,0)},resetNonReactState:function(t){var i=t||this.props.compData,o=e.findIndex(this.getItems(),{id:i.id}),n=this.props.isZoomed();this.nonReactState={currentSlideIndex:o,swipeOffset:this.stageData.centerPart_begin,isZoomed:n,firstRender:!0}},onSwipe:function(t){if(!(this.isZoomed||t.center.x-t.deltaX<29))switch(t.type){case"panstart":break;case"pan":this.swipeOffset=e.clamp(this.stageData.centerPart_begin-t.deltaX/window.innerWidth,this.currentSlideIndex>0?this.stageData.leftPart_leftMargin:this.stageData.centerPart_leftMargin,this.currentSlideIndex<this.getItems().length-1?this.stageData.rightPart_rightMargin:this.stageData.centerPart_rightMargin);break;case"panend":this.startTransition();break;default:throw new Error("unsupported event type: "+t.type)}},calcTransitionTarget:function(){return this.swipeOffset<this.stageData.centerPart_leftMargin?{offset:this.stageData.leftPart_begin,index:this.currentSlideIndex-1}:this.swipeOffset>this.stageData.centerPart_rightMargin?{offset:this.stageData.rightPart_begin,index:this.currentSlideIndex+1}:{offset:this.stageData.centerPart_begin,index:this.currentSlideIndex}},startTransition:function(t){var e=t||this.calcTransitionTarget();this.refs.swipeStage.classList.add(this.props.styleId+"_animate"),this.swipeOffset=e.offset,this.currentSlideIndex=e.index},onSwipeEnd:function(){this.refs.swipeStage.classList.remove(this.props.styleId+"_animate"),this.swipeOffset=this.stageData.centerPart_begin,this.navigateToSlide(this.currentSlideIndex),this.setState({})},navigateToSlide:function(t){var i=this.getItems()[t].id,o=e.clone(this.props.rootNavigationInfo);o.pageItemId=i,this.props.updateUrlIfNeeded(o)},closeMediaZoom:function(){if(this.props.currentZoomItem)this.props.unzoom();else{var t=e.omit(this.props.rootNavigationInfo,["imageZoom","pageItemId","title"]);this.props.navigateToPage(t)}},onXButton:function(t){this.closeMediaZoom(),t.preventDefault()},onArrowLeftKey:function(){this.currentSlideIndex>0&&this.startTransition({offset:this.stageData.leftPart_begin,index:this.currentSlideIndex-1})},onArrowRightKey:function(){this.currentSlideIndex<this.getItems().length-1&&this.startTransition({offset:this.stageData.rightPart_begin,index:this.currentSlideIndex+1})},toggleInfoPanel:function(t){t.target!==this.refs.stage_CENTER.refs.link&&this.setState({showInfo:!this.isManipulated()&&!this.state.showInfo})},getGotoLink:function(t){var i=t.link;if(i){var o=p.renderLink(i,this.props.linkRenderInfo,this.props.rootNavigationInfo);return o.children=e.get(this.props.compProp,"goToLinkText","Go to link"),o}},getStageParts:function(){return e.filter([{id:"LEFT",imageIndex:this.currentSlideIndex-1,offset:this.stageData.leftPart_leftMargin},{id:"CENTER",imageIndex:this.currentSlideIndex,offset:this.stageData.centerPart_leftMargin},{id:"RIGHT",imageIndex:this.currentSlideIndex+1,offset:this.stageData.rightPart_leftMargin}],function(t){return t.imageIndex>=0&&t.imageIndex<this.getItems().length}.bind(this))},isManipulated:function(){return this.props.isMobileDevice&&this.props.isLandscape()||this.state.isZoomed},buildStageChildren:function(){var t=[];return e.forEach(this.getStageParts(),function(e){var i=e.offset*this.stagePercentFactor,o="stage_"+e.id,n=this.getItems()[e.imageIndex],s=this.nonReactState.firstRender?null:this.props.screenSize,a={pixelAspectRatio:this.props.devicePixelRatio,browser:this.props.browser,staticMediaUrl:this.props.staticMediaUrl,screenSize:s},r=this.createChildComponent(n,"wysiwyg.viewer.components.TouchMediaZoomItem","image",{key:this.props.id+"_item"+e.imageIndex,id:o,ref:o,imageData:n,clientData:a,link:this.getGotoLink(n),screenSize:s,itemToScreenRatio:1.4,showInfo:this.state.showInfo&&!this.isManipulated(),itemLeft:i,firstRender:this.nonReactState.firstRender});t.push(r)}.bind(this)),t},getSkinProperties:function(){return{"":{onClick:this.toggleInfoPanel},swipeStage:{style:{width:100*this.stageData.fullWidth+"%"},children:this.buildStageChildren()},xButton:{onClick:this.onXButton,className:this.classSet({hidden:this.isManipulated()})}}}};return o.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoom",l),l}.apply(e,o))||(t.exports=n)},1414:function(t,e,i){var o,n;o=[i(0),i(5),i(2),i(4)],void 0===(n=function(t,e,i,o){"use strict";var n=o.touchMediaZoomUtils;return{displayName:"TouchMediaZoomItem",mixins:[i.compMixins.skinBasedComp],propTypes:{itemToScreenRatio:e.number.isRequired,itemLeft:e.number.isRequired,imageData:e.object.isRequired,clientData:e.object.isRequired,showInfo:e.bool.isRequired,firstRender:e.bool.isRequired,link:e.object,screenSize:e.object},getTitle:function(){var e=t.get(this.props.imageData,"title");return{className:this.classSet({hidden:!e}),children:e}},getDescription:function(){var e=t.get(this.props.imageData,"description");return{className:this.classSet({hidden:!e}),children:e}},getLink:function(){return t.assign({},this.props.link,{className:this.classSet({hidden:!this.props.link})})},hasInfo:function(){return this.props.imageData.title||this.props.imageData.description||this.props.link},isImageFullWidth:function(){return!t.has(this.props.screenSize,"width")||this.props.screenSize<=t.get(this.props.imageApiFastData,"css.img.width")},getImageProps:function(e,i){if(this.props.firstRender)return{"data-imgdata":JSON.stringify(t.pick(e,["width","height","uri","quality"])),"data-imgscale":i||1};var o=n.getImageApiData(e,this.props.clientData,i||1);return{src:o.uri,style:o.css.img}},getSkinProperties:function(){var e=t.assign(this.getImageProps(this.props.imageData,.25),{className:this.classSet({fast:!0})}),i=t.assign(this.getImageProps(this.props.imageData),{className:this.classSet({heavy:!0})}),o=t.has(this.props.screenSize,"width")?{width:this.props.screenSize.width+"px"}:{},n=t.has(this.props.screenSize,"width")?{width:this.props.screenSize.width*this.props.itemToScreenRatio+"px"}:{};return{"":{className:this.classSet({parallax:this.isImageFullWidth()}),style:t.assign({},n,{left:this.props.itemLeft+"%"}),"data-firstrender":this.props.firstRender},imageContainer:{style:o},hirRes:i,lowRes:e,info:{className:this.classSet({hidden:!this.props.showInfo||!this.hasInfo()}),style:o},description:this.getDescription(),title:this.getTitle(),link:this.getLink()}}}}.apply(e,o))||(t.exports=n)},1415:function(t,e,i){var o;void 0===(o=function(){"use strict";var t={"wysiwyg.skins.ImageZoomDisplayerSkin":{react:[["div","image",[],{}],["div","panel",[],{},["div",null,["_meta"],{},["h3","title",[],{}],["p","description",[],{}],["a","link",[],{}]]]],exports:{image:{skin:"skins.core.ImageSkin"}},mediaQueries:[{query:"@media (orientation: landscape)",css:{"%[data-state~='mobile'] %panel":"font-size:1.5em;"}},{query:"@media (orientation: landscape)",css:{"%[data-state~='tablet'] %panel":"font-size:1em;"}}],css:{"%":'width:100%;height:100%;text-align:center;font:12px "Helvetica Neue","HelveticaNeueW01-55Roma","HelveticaNeueW02-55Roma","HelveticaNeueW10-55Roma",Helvetica, Arial, sans-serif;',"%panel":"position:absolute;text-align:center;color:#fff;font-family:Helvetica;font-weight:100;letter-spacing:0.2px;","%title":"font-size:16px;margin:20px auto;max-width:100%;font-weight:100;","%description":"width:465px;margin:20px auto;white-space:pre-line;font-size:12px;line-height:17px;letter-spacing:0.3px;max-width:100%;","%link":"font-family:'Times New Roman';color:#ffffff;font-size:13px;font-style:italic;text-decoration:underline;","%[data-state~='mobile'] %panel":"font-size:2em;","%[data-state~='tablet'] %panel":"font-size:1.1em;","%[data-state~='mobile'] %panel,%[data-state~='tablet'] %panel":"padding:30px 85px;box-sizing:border-box;","%[data-state~='mobile'] %image,%[data-state~='tablet'] %image":"margin:0 auto;box-sizing:border-box;","%[data-state~='mobile'] %title,%[data-state~='tablet'] %title":"font-size:1.6em;margin-top:0;","%[data-state~='mobile'] %description,%[data-state~='tablet'] %description":"font-size:1.2em;line-height:1.7em;width:100%;","%[data-state~='mobile'] %link,%[data-state~='tablet'] %link":"font-size:1.3em;"}},"wysiwyg.skins.ImageZoomSkin":{react:[],exports:{imageItem:{skin:"wysiwyg.skins.ImageZoomDisplayerSkin"},mediaZoom:{skin:"wysiwyg.viewer.skins.MediaZoomSkin"}},css:{}},"wysiwyg.skins.NonOptimizedImageZoomSkin":{react:[],exports:{imageItem:{skin:"wysiwyg.skins.ImageZoomDisplayerSkin"},mediaZoom:{skin:"wysiwyg.viewer.skins.NonOptimizedMediaZoomSkin"}},css:{}},"wysiwyg.viewer.skins.AppPartMediaZoomSkin":{react:[["div","blockingLayer",[],{},["div","dialogBox",[],{},["div","xButton",[],{}],["div","itemsContainer",[],{}]],["div","buttonPrev",["_btn"],{}],["div","buttonNext",["_btn"],{}]]],params:{tdr:"URL",trns:"TRANSITION",bg:"BG_COLOR",heightSpacer:"SIZE"},paramsDefaults:{tdr:"BASE_THEME_DIRECTORY",trns:"opacity 0.5s ease 0s",bg:"#000",heightSpacer:["pad","pad"]},paramsMutators:{bg:{type:"alpha",value:.75}},css:{"%":"position:fixed !important;width:100% !important;height:100% !important;z-index:99999;","%blockingLayer":"background-color:[bg];position:fixed;top:0;right:0;bottom:0;left:0;visibility:visible;zoom:1;overflow:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;","%[data-state~='mobile'] %blockingLayer,%[data-state~='tablet'] %blockingLayer":"background-color:#5F6360;","%dialogBox":"margin:auto;background:#fff;min-width:500px;position:relative;text-align:right;width:500px;padding:10px 10px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;","%xButton":"display:inline-block;right:-25px;width:25px;height:25px;background:#fff url([tdr]close.gif) no-repeat 50% 50%;cursor:pointer;position:absolute;top:0;z-index:500;","%_btn":"position:fixed;top:0;width:100px;height:100%;background:url([tdr]arrows_white.png) no-repeat;overflow:hidden;text-indent:-9999px;cursor:pointer;opacity:0.3;[trns]","%buttonNext":"right:20px;background-position:-30px 50%;","%buttonPrev":"left:20px;background-position:70px 50%;","%_btn:hover":"opacity:1;"}},"wysiwyg.viewer.skins.AppPartMobileMediaZoomSkin":{react:[["div","blockingLayer",[],{},["div","dialogBox",["_z-dialog"],{},["div","itemsContainer",[],{}],["div","xButton",["_btn"],{}],["div","buttonPrev",["_btn"],{}],["div","buttonNext",["_btn"],{}]]]],params:{tdr:"URL",zoom:"INVERTED_ZOOM_FIXED",bg:"BG_COLOR"},paramsDefaults:{tdr:"BASE_THEME_DIRECTORY",zoom:"1",bg:"#000"},paramsMutators:{bg:{type:"alpha",value:1}},mediaQueries:[{query:"@media (orientation: landscape)",css:{"%buttonPrev,%buttonNext":"top:45%;"}}],css:{"%":"position:static;width:100%;height:100%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);z-index:500;","%blockingLayer":"background-color:[bg];position:fixed;top:0;right:0;bottom:0;left:0;","%dialogBox":"position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;background:#000;z-index:1000;","%buttonNext,%buttonPrev":"top:50%;background-size:cover;background-repeat:no-repeat;","%buttonPrev":"background-image:url([tdr]prev_button.png);left:0;","%buttonNext":"background-image:url([tdr]next_button.png);right:0;","%xButton":"top:0;right:0;background:url([tdr]x_button.png) no-repeat;background-size:cover;",'%buttonNext [data-state~="tablet"],%buttonPrev [data-state~="tablet"],%xButton [data-state~="tablet"]':"[zoom]","%_btn":"[zoom]  position:fixed;overflow:hidden;cursor:pointer;",'%[data-state~="tablet"] %_btn':"width:80px;height:80px;",'%[data-state~="mobile"] %_btn':"width:43px;height:43px;",'%[data-state~="hideButtons"] %_btn':"display:none;",'%[data-state~="scrollEnabled"] %blockingLayer':"position:static;height:100%;"}},"wysiwyg.viewer.skins.MediaZoomSkin":{react:[["div","blockingLayer",[],{},["div","dialogBox",[],{},["div","itemsContainer",[],{}]],["div","xButton",[],{}],["div","buttonNext",["_btn"],{}],["div","buttonPrev",["_btn"],{}]]],params:{trns:"TRANSITION",bg:"BG_COLOR",heightSpacer:"SIZE"},paramsDefaults:{trns:"opacity 0.5s ease 0s",bg:"#000",heightSpacer:["pad","pad"]},paramsMutators:{bg:{type:"alpha",value:.9}},css:{"%":"position:fixed !important;width:100% !important;height:100% !important;z-index:99999;","%blockingLayer":"background-color:[bg];position:fixed;top:0;right:0;bottom:0;left:0;visibility:visible;zoom:1;overflow:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;","%dialogBox":"margin:auto;max-width:100%;position:relative;width:500px;padding:35px 0 50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;","%xButton":"display:inline-block;right:50px;top:50px;cursor:pointer;position:fixed;z-index:500;","%xButton %_svgButtonClose":"width:18px;height:18px;stroke:#fff;stroke-width:15;position:absolute;right:0;top:0;","%_btn":"position:fixed;top:0;width:33%;height:100%;overflow:hidden;text-indent:-9999px;cursor:pointer;opacity:0.9;[trns]","%_btn %_svgNavButton":"width:18px;height:31px;stroke:#fff;stroke-width:20;position:absolute;top:50%;","%buttonNext":"right:0;","%buttonNext %_svgNavButton":"right:50px;","%buttonPrev":"left:0;","%buttonPrev %_svgNavButton":"left:50px;","%_btn:hover":"opacity:1;"}},"wysiwyg.viewer.skins.NonOptimizedMediaZoomSkin":{react:[["div","blockingLayer",[],{},["div","dialogBox",["_z-dialog"],{},["div","itemsContainer",[],{}],["div","buttonPrev",["_btn"],{}],["div","buttonNext",["_btn"],{}],["div","xButton",["_btn"],{}]]]],params:{trns:"TRANSITION",bg:"BG_COLOR",heightSpacer:"SIZE"},paramsDefaults:{trns:"opacity 0.5s ease 0s",bg:"#000",heightSpacer:["pad","pad"]},paramsMutators:{bg:{type:"alpha",value:.5}},mediaQueries:[{query:"@media (orientation: portrait)",css:{"%xButton":"width:75px;height:75px;","%[data-state~='mobile'] %_svgButtonClose":"width:45px;height:45px;right:15px;top:15px;","%[data-state~='mobile'] %_svgNavButton":"width:45px;height:45px;margin-top:-22px;","%[data-state~='mobile'] %buttonNext %_svgNavButton":"padding:15px 12px 15px 18px;","%[data-state~='mobile'] %buttonPrev %_svgNavButton":"padding:15px 18px 15px 12px;","%[data-state~='tablet'] %_svgButtonClose":"width:35px;height:35px;right:20px;top:20px;","%[data-state~='tablet'] %_svgNavButton":"width:35px;height:35px;margin-top:-17px;","%[data-state~='tablet'] %buttonNext %_svgNavButton":"padding:20px 18px 20px 22px;","%[data-state~='tablet'] %buttonPrev %_svgNavButton":"padding:20px 22px 20px 18px;"}},{query:"@media (orientation: landscape)",css:{"%xButton":"width:45px;height:45px;","%_svgNavButton":"width:25px;height:25px;margin-top:-12px;","%buttonNext %_svgNavButton":"padding:10px 9px 10px 11px;","%buttonPrev %_svgNavButton":"padding:10px 11px 10px 9px;","%[data-state~='tablet'] %_svgButtonClose":"width:19px;height:19px;right:13px;top:13px;","%[data-state~='mobile'] %_svgButtonClose":"width:25px;height:25px;right:10px;top:10px;"}}],css:{"%":"position:fixed !important;width:100% !important;height:100% !important;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);z-index:500;","%blockingLayer":"background-color:#000;position:fixed;top:0;right:0;bottom:0;left:0;visibility:visible;zoom:1;overflow:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;","%dialogBox":"position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;","%_btn":"display:inline-block;cursor:pointer;position:fixed;overflow:hidden;text-indent:-9999px;opacity:0.9;[trns]  z-index:500;","%xButton":"background-color:[bg];right:15px;top:15px;","%xButton %_svgButtonClose":"stroke:#fff;stroke-width:15;position:absolute;","%_svgNavButton":"stroke:#fff;stroke-width:25;position:absolute;top:50%;background-color:[bg];margin:15px;","%buttonNext":"top:0;right:0;width:33%;height:100%;","%buttonNext %_svgNavButton":"right:0;","%buttonPrev":"top:0;left:0;width:33%;height:100%;","%buttonPrev %_svgNavButton":"left:0;","%_btn:hover":"opacity:1;",'%[data-state~="hideButtons"] %_btn':"display:none;"}}};return t}.apply(e,[]))||(t.exports=o)},2:function(t,e){t.exports=i},27:function(t,e){t.exports=l},3:function(t,e){t.exports=o},4:function(t,e){t.exports=n},473:function(t,e,i){var o,n;o=[i(6),i(11),i(5),i(0),i(2),i(1411),i(12),i(3),i(474),i(1)],void 0===(n=function(t,e,i,o,n,s,a,r,p,d){"use strict";var l=n.compMixins,c={width:240,height:60},u={width:0,height:0};function h(t){return t&&!t.target.href}function g(t){return t.isMobileDevice||t.isTabletDevice}return{displayName:"MediaZoom",mixins:[l.skinBasedComp,t.mixins.animationsMixin,l.skinInfo,n.compMixins.galleryImageExpandedActionMixin,l.cyclicTabbingMixin],propTypes:o.assign({styleId:r.Types.Component.styleId.isRequired,isZoomAllowed:r.Types.RenderFlags.isZoomAllowed.isRequired,isMobileDevice:r.Types.Device.isMobileDevice.isRequired,isTabletDevice:r.Types.Device.isTabletDevice.isRequired,rootNavigationInfo:r.Types.Component.rootNavigationInfo.isRequired,navigateToPage:r.Types.navigateToPage.isRequired,passClickEvent:r.Types.passClickEvent.isRequired,exitFullScreenMode:r.Types.exitFullScreenMode.isRequired,enterFullScreenMode:r.Types.enterFullScreenMode.isRequired,isExperimentOpen:r.Types.isExperimentOpen,getPrevAndNextStateFunc:i.func,isDataChangedFunc:i.func,getChildCompFunc:i.func,getBoxDimensionsFunc:i.func,actualNavigateToItemFunc:i.func,closeFunction:i.func,dataChanged:i.bool},r.santaTypesUtils.getSantaTypesByClass(t.components.Image),r.santaTypesUtils.getSantaTypesByDefinition(p)),getSvgButton:function(e,i){var n=s[e],a=o.clone(n.svg),r=this.props.styleId+"_";return o.assign(a,{className:r+n.svg.className,dangerouslySetInnerHTML:{__html:n.content},tabIndex:0,role:"button",onKeyDown:d.accessibility.keyboardInteractions.activateBySpaceOrEnterButton},i),t.utils.createReactElement("svg",a)},getInitialState:function(){this.isAnimating=!1,this.shouldUpdateSizeOnLayout=!0;var t="desktop";return this.props.isMobileDevice?t="mobile":this.props.isTabletDevice&&(t="tablet"),o.assign({$buttonsState:"showButtons",$device:t},this.props.getPrevAndNextStateFunc())},componentWillReceiveProps:function(t){if(this.props.isZoomAllowed){var e=this.props.dataChanged||this.props.isDataChangedFunc(this.props,t);this.shouldUpdateSizeOnLayout=e,e&&this.setState(this.props.getPrevAndNextStateFunc())}else setTimeout(this.closeMediaZoom,0)},getSkinProperties:function(){var t=!!this.state.next?{}:{display:"none"},e=g(this.props)?u:c,i=this.props.getChildCompFunc({toggleButtons:this.toggleButtons,goToNextItem:this.clickOnNextButton,goToPrevItem:this.clickOnPreviousButton},e),o={"":{onKeyDown:this.preventTabbingOut,"data-width-spacer":e.width,"data-height-spacer":e.height},blockingLayer:{onClick:this.onBlockingLayerClick},xButton:{onClick:this.closeMediaZoom,children:[this.getSvgButton("buttonClose",{"aria-label":"close"})]},dialogBox:{onClick:this.handleDialogBoxClick},itemsContainer:{children:i,"aria-live":"polite",tabIndex:-1},buttonPrev:{onClick:this.clickOnPreviousButton,style:t,children:[this.getSvgButton("buttonPrevious",{"aria-label":"previous"})]},buttonNext:{onClick:this.clickOnNextButton,style:t,children:[this.getSvgButton("buttonNext",{"aria-label":"next"})]}};return g(this.props)&&(o.blockingLayer.onSwipeLeft=this.clickOnNextButton,o.blockingLayer.onSwipeRight=this.clickOnPreviousButton),o},onBlockingLayerClick:function(t){h(t)&&(this.closeMediaZoom(),t.preventDefault(),t.stopPropagation())},componentDidLayout:function(){var t=this.props.getBoxDimensionsFunc(),i={width:t.dialogBoxWidth,height:t.dialogBoxHeight,"margin-top":t.marginTop,"margin-left":t.marginLeft,padding:t.padding},o={width:t.dialogBoxWidth,height:t.dialogBoxHeight,marginTop:t.marginTop,marginLeft:t.marginLeft,padding:t.padding};if(this.shouldUpdateSizeOnLayout){this.shouldUpdateSizeOnLayout=!1;var n=this;this.sequence().add("dialogBox","BaseDimensions",.5,0,{to:o}).add("itemsContainer","FadeIn",.5,0).onCompleteAll(function(){n.unBlockNavigation(),n.handleImageExpandedAction()}).execute()}else e(a.findDOMNode(this.refs.dialogBox)).css(i)},clickOnNextButton:function(t){this.navigateToOtherPageWithAnimations(this.state.next),t&&(t.preventDefault(),t.stopPropagation())},clickOnPreviousButton:function(t){this.navigateToOtherPageWithAnimations(this.state.prev),t&&(t.preventDefault(),t.stopPropagation())},navigateToOtherPageWithAnimations:function(t){if(!this.isNavigationBlocked()){var e=this;this.blockNavigation(),this.animate("itemsContainer","FadeOut",.5,0,null,{onComplete:function(){e.props.actualNavigateToItemFunc(t)}})}},closeMediaZoom:function(){if(this.props.closeFunction)this.props.closeFunction();else{var t=o.omit(this.props.rootNavigationInfo,["imageZoom","pageItemId","title"]);this.props.navigateToPage(t)}},handleDialogBoxClick:function(t){h(t)&&(t.preventDefault(),t.stopPropagation(),this.props.passClickEvent(t))},unBlockNavigation:function(){this.isAnimating=!1},blockNavigation:function(){this.isAnimating=!0},isNavigationBlocked:function(){return this.isAnimating},componentDidMount:function(){this.props.enterFullScreenMode(),this._focusedElementBeforeMediaZoom=window.document.activeElement,a.findDOMNode(this.refs.itemsContainer).focus()},componentWillUnmount:function(){this.props.exitFullScreenMode(),e(this._focusedElementBeforeMediaZoom).focus()},toggleButtons:function(t){var e="showButtons"===this.state.$buttonsState?"hideButtons":"showButtons";this.setState({$buttonsState:e}),t&&(t.preventDefault(),t.stopPropagation())}}}.apply(e,o))||(t.exports=n)},474:function(t,e,i){var o,n;o=[i(5),i(0),i(2),i(3),i(4),i(27),i(6)],void 0===(n=function(t,e,i,o,n,s,a){"use strict";var r=i.compMixins,p=n.linkRenderer,d="Go to link";return{displayName:"ImageZoomDisplayer",mixins:[r.skinBasedComp,r.createChildComponentMixin],propTypes:e.assign({id:o.Types.Component.id,compData:o.Types.Component.compData.isRequired,compProp:o.Types.Component.compProp,isMobileDevice:o.Types.Device.isMobileDevice,isTabletDevice:o.Types.Device.isTabletDevice,rootNavigationInfo:o.Types.Component.rootNavigationInfo.isRequired,linkRenderInfo:o.Types.Link.linkRenderInfo.isRequired,goToNextItem:t.func,toggleButtons:t.func,zoomDimensions:t.object,quality:t.object},o.santaTypesUtils.getSantaTypesByClass(a.components.Image)),getInitialState:function(){var t="desktop";return this.props.isMobileDevice?t="mobile":this.props.isTabletDevice&&(t="tablet"),{$device:t}},getSkinProperties:function(){var t=this.props.compData,i=this.props.compProp,o=this.props.zoomDimensions,n=this.props.quality,a={"":{itemScope:!0,itemType:"http://schema.org/ImageObject"},title:{children:t.title,itemProp:"name","aria-hidden":"true"},description:{children:t.description,itemProp:"description"},image:function(t,i,o,n){var a=e.assign({},t,{alt:t.title,itemProp:"contentUrl"}),r={id:this.props.id+"image",ref:"image",key:t.id,imageData:a,quality:n,containerWidth:i.imageContainerWidth,containerHeight:i.imageContainerHeight,displayMode:s.fittingTypes.LEGACY_FULL,onClick:this.props.goToNextItem,filterEffect:this.props.compProp.filterEffect,labelledById:this.props.id+"title",describedById:this.props.id+"description"};return o&&(r.onClick=this.props.toggleButtons,r.onTap=this.props.toggleButtons),this.createChildComponent(a,"core.components.Image","image",r)}.call(this,t,o,this.props.isMobileDevice||this.props.isTabletDevice,n)};return t.link&&(a.link=p.renderLink(t.link,this.props.linkRenderInfo,this.props.rootNavigationInfo),a.link.children=i&&i.goToLinkText?i.goToLinkText:d),a}}}.apply(e,o))||(t.exports=n)},475:function(t){t.exports={ENTER_EXPAND_MODE:{eventId:376,adapter:"ugc-viewer",params:{site_id:"site_id"}},ZOOM_IN_EXPAND_MODE:{eventId:375,adapter:"ugc-viewer",params:{site_id:"site_id",zoomType:"zoomType"}}}},5:function(t,e){t.exports=s},6:function(t,e){t.exports=a},7:function(t,e){t.exports=r}})});
//# sourceMappingURL=imageZoom.min.js.map